-- Create

INSERT INTO CUENTACONSUMOS (RESERVAS_ID, SERVICIOS_ID)
VALUES (3, 1);

-- Read

-- Un cliente consulta el consumo de un servicio espec√≠fico en su reserva.
SELECT RESERVAS.ID AS RESERVA, RESERVAS.USUARIOS_ID AS CLIENTE, RESERVAS.PLANESDECONSUMO_ID AS PLANCONSUMO, SERVICIOS.ID AS ID_SERVICIO, SERVICIOS.NOMBRE, SERVICIOS.DESCRIPCION, SERVICIOS.TIPOSERVICIO
FROM RESERVAS
    INNER JOIN CUENTACONSUMOS
    ON ID = CUENTACONSUMOS.RESERVAS_ID
    INNER JOIN SERVICIOS
    ON CUENTACONSUMOS.SERVICIOS_ID =  SERVICIOS.ID
WHERE RESERVAS.ID = 1 AND SERVICIOS.ID = 1;

-- Un cliente consulta el consumo todos los servicios del hotel en su reserva.
SELECT RESERVAS.ID AS RESERVA, RESERVAS.USUARIOS_ID AS CLIENTE, RESERVAS.PLANESDECONSUMO_ID AS PLANCONSUMO, SERVICIOS.ID AS ID_SERVICIO, SERVICIOS.NOMBRE, SERVICIOS.DESCRIPCION, SERVICIOS.TIPOSERVICIO
FROM RESERVAS
    INNER JOIN CUENTACONSUMOS
    ON ID = CUENTACONSUMOS.RESERVAS_ID
    INNER JOIN SERVICIOS
    ON CUENTACONSUMOS.SERVICIOS_ID =  SERVICIOS.ID
WHERE RESERVAS.ID = 1;

-- Update

UPDATE CUENTACONSUMOS
SET SERVICIOS_ID = 8
WHERE RESERVAS_ID = 3 AND SERVICIOS_ID = 1;

-- Delete

DELETE
FROM CUENTACONSUMOS
WHERE RESERVAS_ID = 3;